{"ast":null,"code":"var _jsxFileName = \"/Users/muskaanbhutani/Documents/hurtigruten/assignment-react/assignment/src/components/Search.js\";\nimport React, { Component } from 'react';\nimport Suggestions from './suggestions';\nimport { debounce } from 'lodash';\n\nvar MagnifyingGlass = require('../assets/magnifying-glass.svg');\n\nvar cross = require('../assets/cross.svg');\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: '',\n      ships: []\n    };\n\n    this.getInfo = queryText => {\n      fetch('api/ships/' + queryText).then(res => res.json()).then(data => {\n        console.log(data);\n        this.setState({\n          ships: data\n        });\n      });\n    };\n\n    this.clearSearchInput = () => {\n      this.search.value = '';\n      this.setState({\n        query: '',\n        ships: []\n      });\n    };\n\n    this.handleInputChange = debounce(() => {\n      this.setState({\n        query: this.search.value\n      }, () => {\n        if (this.state.query) {\n          this.getInfo(this.state.query);\n        } else {\n          this.setState({\n            ships: []\n          });\n        }\n      });\n    }, 600);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-9 search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"search\",\n      placeholder: \"Search for...\",\n      ref: input => this.search = input,\n      onChange: this.handleInputChange,\n      onKeyPress: event => {\n        if (event.key === 'Enter') {\n          this.getInfo();\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"col-xs-1 icon-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, this.state.query ? React.createElement(\"img\", {\n      src: cross,\n      height: \"30\",\n      onClick: this.clearSearchInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: MagnifyingGlass,\n      height: \"30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }))))), this.state.ships.length > 0 ? React.createElement(Suggestions, {\n      ships: this.state.ships,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }) : React.createElement(\"h4\", {\n      className: \"my-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"No results Found\"), React.createElement(Suggestions, {\n      ships: this.state.ships,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/muskaanbhutani/Documents/hurtigruten/assignment-react/assignment/src/components/Search.js"],"names":["React","Component","Suggestions","debounce","MagnifyingGlass","require","cross","Search","state","query","ships","getInfo","queryText","fetch","then","res","json","data","console","log","setState","clearSearchInput","search","value","handleInputChange","render","input","event","key","length"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport Suggestions from './suggestions'\nimport {debounce} from 'lodash';\nvar MagnifyingGlass = require('../assets/magnifying-glass.svg');\nvar cross = require('../assets/cross.svg');\n\n\nclass Search extends Component {\n    state = {\n      query: '',\n      ships: []\n    }  \n    \n    getInfo = (queryText) => {\n        fetch('api/ships/'+queryText)\n        .then(res => res.json())\n          .then( (data ) => {\n              console.log(data);\n            this.setState({\n             ships: data                             \n            });\n          })\n      }\n\n      clearSearchInput= () => {\n        this.search.value='';\n        this.setState({\n            query: '',\n            ships : []\n        });\n      }\n\n\n   \n    handleInputChange = debounce(() => {\n      this.setState({\n        query: this.search.value\n      }, () => {\n          if(this.state.query){\n            this.getInfo(this.state.query);\n          } else {\n            this.setState({\n                ships: []                             \n               });\n          }\n            \n      })\n    }, 600);\n   \n    render() {\n      return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <form>\n                    <div className=\"col-xs-9 search\">\n                        <input className=\"form-control\" type=\"search\"\n                        placeholder=\"Search for...\"\n                        ref={input => this.search = input}\n                        onChange={this.handleInputChange} onKeyPress={event => {\n                            if (event.key === 'Enter') {\n                              this.getInfo()\n                            }\n                          }}\n                        />\n                       <span className=\"col-xs-1 icon-search\">\n                            { this.state.query ? <img src={cross} height=\"30\" onClick={this.clearSearchInput} /> : <img src={MagnifyingGlass} height=\"30\"/> }\n                        </span>\n                        \n                    </div>\n                </form>\n            </div>\n            { this.state.ships.length > 0 ? <Suggestions ships={this.state.ships} /> : <h4 className=\"my-3\">No results Found</h4> }\n            <Suggestions ships={this.state.ships} />\n        </div>\n      )\n    }\n   }\n   \nexport default Search"]},"metadata":{},"sourceType":"module"}